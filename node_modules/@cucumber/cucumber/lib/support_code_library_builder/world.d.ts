// ✅ Importa los tipos de funciones que permiten adjuntar logs, archivos o links a los reportes
import { ICreateAttachment, ICreateLink, ICreateLog } from '../runtime/attachment_manager';

// ✅ Define una interfaz para las opciones que se pasan al crear una instancia de "World"
export interface IWorldOptions<ParametersType = any> {
    attach: ICreateAttachment;   // función para adjuntar archivos al reporte
    log: ICreateLog;             // función para registrar logs en el reporte
    link: ICreateLink;           // función para crear hipervínculos en el reporte
    parameters: ParametersType;  // parámetros personalizados (p. ej., datos del escenario)
}

// ✅ Define la forma que tendrá el objeto "World" durante la ejecución
export interface IWorld<ParametersType = any> {
    readonly attach: ICreateAttachment; // propiedad inmutable
    readonly log: ICreateLog;
    readonly link: ICreateLink;
    readonly parameters: ParametersType;

    [key: string]: any; // permite incluir otras propiedades dinámicas si se necesita
}

// ✅ Define la clase base `World` que implementa la interfaz `IWorld`
export default class World<ParametersType = any> implements IWorld<ParametersType> {
    readonly attach: ICreateAttachment;
    readonly log: ICreateLog;
    readonly link: ICreateLink;
    readonly parameters: ParametersType;
